---
title: 节点的排队时延与丢包   
categories: network  
tag:    
- 链路层

---

节点时延中最复杂和有趣的部分是排队时延$d_{queue}$。与其他三种时延不同，排队时延**对不同的分组是不同的**。  
在表征排队时延时，通常使用**统计量**测度，比如平均排队时延、排队时延的方差和排队时延超过某些特定值的概率。  
## 排队时延的决定因素  
1. 流量到达该队列的速率$a\ pkt/s$  
2. 链路的传输速率$R\ b/s$，即队列中**推出比特的速率**（不是接收）  
3. 到达流量的性质，周期性到达或者以突发形式到达    

## 流量强度与排队时延
假定所有分组都是$L$比特组成，且队列无限大，则称$La/R$为**流量强度 (traffic intensity)**。  
流量强度不能大于1，否则该队列会无限增加，且排队时延会趋向无限大。  
流量强度小于1时，到达流量的性质会影响排队时延。  

1. 对于周期性到达的分组来说，每个分组会到达一个空队列，因此不会有排队时延。  
2. 对于突发性到达的分组来说，会有比较大的平均排队时延，且不同分组的时延不同。对每一个突发，先到达的分组没有时延，后面的分组会有时延。  

实际上，到达队列的过程通常是**随机的**。但是随着流量强度接近于1，平均时延会迅速增加。  

![-w500](http://oda58fqub.bkt.clouddn.com/14932158320133.jpg)  
## 丢包  
实际上，一条链路前的队列只能是有限的容量。  
由于排队容量是有限的，随着流量强度接近1，排队时延不会趋向无穷大。当到达的分组发现一个满的队列时，由于没有地方存储这个分组，路由器将**丢弃 (drop)** 这个分组，该分组将会**丢失 (lost)**。  


