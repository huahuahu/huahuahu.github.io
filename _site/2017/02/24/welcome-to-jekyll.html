<h1 id="swiftå’Œobjective-cå…³äºå­—ç¬¦ä¸²çš„ä¸€ä¸ªå°ç‰¹æ€§">Swiftå’ŒObjective Cå…³äºå­—ç¬¦ä¸²çš„ä¸€ä¸ªå°ç‰¹æ€§</h1>
<p>##ä¸€ã€Unicodeçš„ä¸€ä¸ªå°ç‰¹æ€§
é¦–å…ˆï¼ŒUnicodeè§„å®šäº†è®¸å¤šcode pointï¼Œæ¯ä¸€ä¸ªcode pointè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚å¦‚\u0033è¡¨ç¤ºå­—ç¬¦â€œ3â€ï¼Œ\u864eè¡¨ç¤ºå­—ç¬¦â€œä½ â€ã€‚
åè¿‡æ¥ï¼Œä¸æ˜¯æ¯ä¸€ä¸ªå­—ç¬¦éƒ½å¯¹åº”ä¸€ä¸ªcode pointï¼Œæ¯ä¸€ä¸ªå­—ç¬¦ä¹Ÿä¸æ­¢æœ‰ä¸€ä¸ªcode pointçš„è¡¨ç¤ºæ–¹æ³•ã€‚
æ¯”å¦‚è¯´ï¼Œâ€œğŸ¯â€è¿™ä¸ªemojiè¡¨æƒ…å¯¹åº”çš„code pointæ˜¯â€œ\ud83d\udc2f\u000d\u000aâ€ï¼Œç”±4ä¸ªcode pointç»„æˆï¼Œè€Œä¸æ˜¯ä¸€ä¸ªã€‚
â€œÃ©â€è¿™ä¸ªå­—ç¬¦å¯¹åº”çš„code pointæœ‰ä¸¤ä¸ªï¼Œâ€œ\u00e9â€ä»¥åŠâ€œ\u0065\u0301â€è¿™ä¸¤ä¸ªcode pointåºåˆ—ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªcode pointï¼‰å‡å¯è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦ã€‚
é‚£ä¹ˆå¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸åŒå‘¢ï¼ŸUnicodeè§„å®šäº†<a href="http://www.unicode.org/reports/tr15/">æ­£è§„åŒ–çš„æ–¹æ³•</a>ï¼Œè¦æŠŠcode pointçš„åºåˆ—æ­£è§„åŒ–ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ä¸€è‡´ã€‚
ä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹Swiftå’ŒNSStringå¯¹è¿™ä¸ªè§„åˆ™çš„æ”¯æŒæƒ…å†µã€‚
##äºŒã€Objective Cä¸­çš„å­—ç¬¦ä¸²</p>
<blockquote>
  <p>An NSString object encodes a Unicode-compliant text string, represented as a sequence of UTFâ€“16 code units</p>
</blockquote>

<p>NSStringæ”¯æŒUnicodeï¼Œä¸€ä¸ªNSStringå…¶å®æ˜¯UTF-16ç¼–ç ä»¥åçš„å¾—åˆ°çš„code unitåºåˆ—ï¼Œè€Œ<code class="highlighter-rouge">length</code>å±æ€§è¿”å›çš„æ˜¯code unitåºåˆ—çš„é•¿åº¦ï¼Œè€Œä¸æ˜¯å­—ç¬¦çš„é•¿åº¦ã€‚</p>
<blockquote>
  <p>The number of UTF-16 code units in the receiver.</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>    NSString *str1 = @"ğŸ¯";
    NSLog(@"str1: %@,length is %zd",str1,str1.length);
</code></pre>
</div>

<p>è¾“å‡ºå¦‚ä¸‹</p>

<div class="highlighter-rouge"><pre class="highlight"><code>str1: ğŸ¯,length is 2 &gt; The comparison uses the canonical representation of strings, which for a particular string is the length of the string plus the UTF-16 code units that make up the string. 
</code></pre>
</div>

<p>æ¯”è¾ƒå­—ç¬¦ä¸²æ—¶ï¼Œä¹Ÿåªæ˜¯æ¯”è¾ƒcode unitçš„åºåˆ—ï¼Œå› æ­¤æ²¡æœ‰ç”¨åˆ°Unicodeå½’ä¸€åŒ–çš„è¡¨è¾¾ï¼Œå¯èƒ½ä¼šé€ æˆä¸åŒcode pointè¡¨ç¤ºçš„åŒä¸€ä¸ªå­—ç¬¦è¢«è®¤ä¸ºæ˜¯ä¸åŒçš„å­—ç¬¦ã€‚</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    str1 = @"\u00e9";
    NSString *str2 = @"e\u0301";
    NSLog(@"\n str1: %@, length %zd;\n str2: %@, length %zd;\n str1 equal to str2 %@",str1,str1.length, str2, str2.length, ([str2 isEqualToString:str1] ? @"yes" : @"no"));
</code></pre>
</div>
<p>è¾“å‡ºå¦‚ä¸‹</p>

<div class="highlighter-rouge"><pre class="highlight"><code>str1: Ã©, length 1;
str2: eÌ, length 2;
str1 equal to str2 no ##ä¸‰ã€Swiftä¸­çš„å­—ç¬¦ä¸² &gt; A string is a series of characters 
</code></pre>
</div>

<p>åœ¨Swiftå…³äºStringçš„æ–‡æ¡£ä¸­ï¼Œç¬¬ä¸€å¥è¯å°±æ˜¯å­—ç¬¦ä¸²æ˜¯å­—ç¬¦çš„åºåˆ—ï¼Œè€Œä¸æ˜¯code unitçš„åºåˆ—ã€‚Stringæœ‰ä¸€ä¸ª<code class="highlighter-rouge">characters</code>çš„å±æ€§ï¼Œæ˜¯å­—ç¬¦çš„é›†åˆã€‚</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    let str1 = "cafe\u{301}"
    let str2 = "caf\u{e9}"
    print("str1 is \(str1),length is ",str1.characters.count,"; str2 is \(str2), stre length is",str2.characters.count)
</code></pre>
</div>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>str1 is cafeÌ,length is  4 ; str2 is cafÃ©, stre length is 4 åœ¨æ¯”è¾ƒå­—ç¬¦ä¸²æ—¶ï¼Œç»“æœç¬¦åˆå°†code pointæ­£è§„åŒ–ä¹‹åçš„ç»“æœã€‚
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>           print("str1 is equal to str2",str1 == str2)
</code></pre>
</div>

<p>ç»“æœå¦‚ä¸‹</p>

<div class="highlighter-rouge"><pre class="highlight"><code>str1 is equal to str2 true
</code></pre>
</div>

