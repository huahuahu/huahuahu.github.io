<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="http://jekyllrb.com" version="3.4.0">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2017-02-26T15:20:51+08:00</updated><id>http://localhost:4000/</id><title type="html">èŠ±èŠ±ğŸ¯çš„åšå®¢</title><subtitle>know the world, know myself
</subtitle><entry><title type="html">Sqliteç´¢å¼•çš„åŸç†</title><link href="http://localhost:4000/2017/02/24/sqlite%E7%B4%A2%E5%BC%95%E7%9A%84%E5%8E%9F%E7%90%86.html" rel="alternate" type="text/html" title="Sqliteç´¢å¼•çš„åŸç†" /><published>2017-02-24T00:00:00+08:00</published><updated>2017-02-24T00:00:00+08:00</updated><id>http://localhost:4000/2017/02/24/sqlite%E7%B4%A2%E5%BC%95%E7%9A%84%E5%8E%9F%E7%90%86</id><content type="html" xml:base="http://localhost:4000/2017/02/24/sqlite%E7%B4%A2%E5%BC%95%E7%9A%84%E5%8E%9F%E7%90%86.html">&lt;h1 id=&quot;sqliteç´¢å¼•çš„åŸç†&quot;&gt;sqliteç´¢å¼•çš„åŸç†&lt;/h1&gt;
&lt;h2 id=&quot;ä¸€å¼•è¨€&quot;&gt;ä¸€ã€å¼•è¨€&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/lyroge/p/3837886.html&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;ï¼Œé‡Œé¢è®²åˆ°å¯¹äºä¸€ä¸ª41Gå¤§å°ã€åŒ…å«ç™¾ä¸‡æ¡è®°å½•çš„æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢æ“ä½œï¼Œå¦‚æœåˆ©ç”¨äº†ç´¢å¼•ï¼Œå¯ä»¥æŠŠæ“ä½œè€—æ—¶ä»37sé™åˆ°0.2sã€‚
é‚£ä¹ˆä»€ä¹ˆæ˜¯ç´¢å¼•å‘¢ï¼Ÿåˆ©ç”¨ç´¢å¼•å¯ä»¥åŠ å¿«æ•°æ®åº“æŸ¥è¯¢æ“ä½œçš„åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&quot;äºŒç´¢å¼•çš„åŸºæœ¬åŸç†&quot;&gt;äºŒã€ç´¢å¼•çš„åŸºæœ¬åŸç†&lt;/h2&gt;

&lt;p&gt;æ•°æ®åº“æä¾›äº†ä¸€ç§æŒä¹…åŒ–çš„æ•°æ®å­˜å‚¨æ–¹å¼ï¼Œä»æ•°æ®åº“ä¸­æŸ¥è¯¢æ•°æ®åº“æ˜¯ä¸€ä¸ªåŸºæœ¬çš„æ“ä½œï¼ŒæŸ¥è¯¢æ“ä½œçš„æ•ˆç‡æ˜¯å¾ˆé‡è¦çš„ã€‚
å¯¹äºæŸ¥è¯¢æ“ä½œæ¥è¯´ï¼Œå¦‚æœè¢«æŸ¥è¯¢çš„æ•°æ®å·²æŸç§æ–¹å¼ç»„ç»‡èµ·æ¥ï¼Œé‚£ä¹ˆæŸ¥è¯¢æ“ä½œçš„æ•ˆç‡ä¼šæå¤§æé«˜ã€‚
åœ¨æ•°æ®åº“ä¸­ï¼Œä¸€æ¡è®°å½•ä¼šæœ‰å¾ˆå¤šåˆ—ã€‚å¦‚æœæŠŠè¿™äº›è®°å½•æŒ‰ç…§åˆ—Col1ä»¥æŸç§æ•°æ®ç»“æ„ç»„ç»‡èµ·æ¥ï¼Œé‚£ä¹ˆåˆ—Col2ä¸€å®šæ˜¯ä¹±åºçš„ã€‚
å› æ­¤ï¼Œæ•°æ®åº“åœ¨åŸå§‹æ•°æ®ä¹‹å¤–ï¼Œç»´æŠ¤äº†æ»¡è¶³ç‰¹å®šæŸ¥æ‰¾ç®—æ³•çš„æ•°æ®ç»“æ„ï¼ŒæŒ‡å‘åŸå§‹æ•°æ®ï¼Œç§°ä¹‹ä¸º&lt;strong&gt;ç´¢å¼•&lt;/strong&gt;ã€‚
ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨ä¸‹é¢çš„å›¾ä¸­ï¼Œæ•°æ®åº“æœ‰ä¸¤åˆ—Col1ã€Col2ã€‚åœ¨å­˜å‚¨æ—¶ï¼ŒæŒ‰ç…§åˆ—Col1ç»„ç»‡å„è¡Œï¼Œæ¯”å¦‚Col1å·²äºŒå‰æ ‘æ–¹å¼ç»„ç»‡ã€‚å¦‚æœæŸ¥æ‰¾col1ä¸­çš„æŸä¸€ä¸ªå€¼ï¼Œåˆ©ç”¨äºŒå‰æ ‘è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œä¸éœ€è¦éå†æ•´ä¸ªæ•°æ®åº“ã€‚
è¿™æ ·ä¸€æ¥åˆ—Col2å°±æ˜¯ä¹±åºçš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸ºCol2å»ºç«‹äº†ç´¢å¼•ï¼Œå³æŠŠCol2ä¹ŸæŒ‰ç…§æŸç§æ•°æ®ç»“æ„ï¼ˆè¿™é‡Œæ˜¯äºŒå‰æ ‘ï¼‰ç»„ç»‡èµ·æ¥ã€‚è¿™æ ·å­æŸ¥æ‰¾åˆ—Col2æ—¶åªéœ€è¦è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾å³å¯ã€‚
&lt;img src=&quot;http://oda58fqub.bkt.clouddn.com/14808584745554.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;ä¸‰ç´¢å¼•çš„å®ç°&quot;&gt;ä¸‰ã€ç´¢å¼•çš„å®ç°&lt;/h2&gt;
&lt;p&gt;ç”±äºæ•°æ®åº“æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„ï¼Œå› æ­¤å®ç°ç´¢å¼•ç”¨çš„æ•°æ®ç»“æ„ä¼šå­˜å‚¨åœ¨ç£ç›˜ä¸Šã€‚ç£ç›˜çš„IOæ˜¯éœ€è¦æ³¨æ„çš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;äºŒå‰æ ‘&lt;br /&gt;
äºŒå‰æ ‘æ˜¯ä¸€ç§ç»å…¸çš„æ•°æ®ç»“æ„ï¼Œä½†æ˜¯å¹¶ä¸é€‚åˆè¿›è¡Œæ•°æ®åº“ç´¢å¼•ã€‚&lt;br /&gt;
åŸå› åœ¨äºäºŒå‰æ ‘ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„åº¦åªæœ‰2ï¼Œæ ‘çš„æ·±åº¦è¾ƒé«˜ã€‚åœ¨å­˜å‚¨æ—¶ï¼Œä¸€èˆ¬ä¸€ä¸ªèŠ‚ç‚¹éœ€è¦ä¸€æ¬¡ç£ç›˜IOï¼Œæ ‘çš„æ·±åº¦è¾ƒé«˜ï¼ŒæŸ¥è¯¢ä¸€ä¸ªæ•°æ®éœ€è¦çš„ç£ç›˜IOæ¬¡æ•°è¶Šé«˜ï¼ŒæŸ¥æ‰¾éœ€è¦çš„æ—¶é—´è¶Šé•¿ã€‚&lt;/li&gt;
  &lt;li&gt;Bæ ‘
Bæ ‘æ˜¯äºŒå‰æ ‘çš„å˜ç§ï¼Œä¸»è¦åŒºåˆ«åœ¨äºæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„åº¦å¯ä»¥å¤§äº2ï¼Œå³æ¯ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥åˆ†å¾ˆå¤šå‰ï¼Œå¤§å¤§é™ä½äº†æ ‘çš„æ·±åº¦ã€‚&lt;br /&gt;
&lt;img src=&quot;http://oda58fqub.bkt.clouddn.com/14824192651928.jpg&quot; alt=&quot;&quot; /&gt;
    &lt;ul&gt;
      &lt;li&gt;æ¯æ¡æ•°æ®è¡¨ç¤ºä¸º[key,data]&lt;/li&gt;
      &lt;li&gt;æ¯ä¸ªéå¶å­èŠ‚ç‚¹æœ‰(n-1)æ¡æ•°æ®nä¸ªæŒ‡é’ˆç»„æˆ&lt;/li&gt;
      &lt;li&gt;æ‰€æœ‰å¶èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„æ·±åº¦ï¼Œç­‰äºæ ‘é«˜h&lt;/li&gt;
      &lt;li&gt;æŒ‡é’ˆæŒ‡å‘èŠ‚ç‚¹çš„keyå¤§äºå·¦è¾¹çš„è®°å½•å°äºå³è¾¹è®°å½•&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;ä¸Šé¢è¿™äº›ç‰¹ç‚¹ä½¿å¾—B+æ ‘çš„æ·±åº¦å¤§å¤§é™ä½ï¼Œå¹¶ä¸”å®ç°äº†å¯¹æ•°æ®çš„æœ‰åºç»„ç»‡ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;B+æ ‘&lt;br /&gt;
B+æ ‘æ˜¯å¯¹Bæ ‘çš„æ‰©å±•ï¼Œç‰¹ç‚¹åœ¨äºéå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨dataï¼Œåªå­˜å‚¨keyã€‚å¦‚æœæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å¤§å°å›ºå®šï¼ˆå¦‚4kï¼Œæ­£å¦‚åœ¨sqliteä¸­é‚£æ ·ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥è¿›ä¸€æ­¥æé«˜å†…éƒ¨èŠ‚ç‚¹çš„åº¦ï¼Œé™ä½æ ‘çš„æ·±åº¦ã€‚&lt;br /&gt;
&lt;img src=&quot;http://oda58fqub.bkt.clouddn.com/14824195985751.jpg&quot; alt=&quot;&quot; /&gt;
    &lt;ul&gt;
      &lt;li&gt;éå¶å­èŠ‚ç‚¹åªå­˜å‚¨keyï¼Œå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨æŒ‡é’ˆ&lt;/li&gt;
      &lt;li&gt;æ¯ä¸€ä¸ªèŠ‚ç‚¹å¤§å°å›ºå®šï¼Œéœ€è¦ä¸€æ¬¡è¯»ç£ç›˜æ“ä½œï¼ˆpageï¼‰&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;é¡ºåºè®¿é—®æŒ‡é’ˆçš„B+æ ‘&lt;br /&gt;
å¯¹B+æ ‘åšäº†ä¸€ç‚¹æ”¹å˜ï¼Œæ¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹å¢åŠ ä¸€ä¸ªæŒ‡å‘ç›¸é‚»å¶å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè¿™æ ·å­å¯ä»¥æé«˜åŒºé—´è®¿é—®çš„æ€§èƒ½ã€‚&lt;br /&gt;
&lt;img src=&quot;http://oda58fqub.bkt.clouddn.com/14824200088734.jpg&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;
å¦‚å›¾ï¼Œè®¿é—®keyåœ¨15åˆ°30çš„dataã€‚
    &lt;ul&gt;
      &lt;li&gt;å¦‚æœæ²¡æœ‰æ°´å¹³çš„æŒ‡é’ˆ  &lt;br /&gt;
 B+æ ‘æŸ¥æ‰¾æ‰¾åˆ°key=15çš„dataï¼Œåœ¨åŒä¸€ä¸ªå—ä¸­æ‰¾åˆ°key=18çš„dataã€‚ç„¶åè¿›è¡Œç¬¬äºŒæ¬¡B+æŸ¥æ‰¾ï¼Œæ‰¾åˆ°key=20çš„dataï¼Œåœ¨åŒä¸€ä¸ªå—ä¸­æ‰¾åˆ°key=30çš„dataã€‚&lt;/li&gt;
      &lt;li&gt;æœ‰æ°´å¹³çš„æŒ‡é’ˆ&lt;br /&gt;
 B+æ ‘æŸ¥æ‰¾æ‰¾åˆ°key=15çš„dataï¼ŒæŸ¥æ‰¾åŒä¸€ä¸ªå—çš„å†…å®¹ï¼Œæˆ–æ²¿ç€æ°´å¹³æŒ‡é’ˆä¾æ¬¡å‘å³éå†ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;å››sqliteä¸­æ•°æ®å­˜å‚¨æ–¹å¼&quot;&gt;å››ã€Sqliteä¸­æ•°æ®å­˜å‚¨æ–¹å¼&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;è¡¨(table)å’Œç´¢å¼•(Index)éƒ½æ˜¯å¸¦é¡ºåºè®¿é—®æŒ‡é’ˆçš„B+æ ‘&lt;/li&gt;
  &lt;li&gt;tableå¯¹åº”çš„B+æ ‘ä¸­ï¼Œkeyæ˜¯rowidï¼Œdataæ˜¯è¿™ä¸€è¡Œå…¶ä»–åˆ—æ•°æ®ï¼ˆsqliteä¸ºæ¯ä¸€è¡Œåˆ†é…äº†ä¸€ä¸ªrowidï¼‰&lt;/li&gt;
  &lt;li&gt;indexå¯¹åº”çš„B+æ ‘ç§ï¼Œkeyæ˜¯éœ€è¦ç´¢å¼•çš„åˆ—ï¼Œdataæ˜¯rowid&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ ¹æ®ç´¢å¼•æŸ¥æ‰¾æ•°æ®æ—¶ï¼Œåˆ†ä¸¤æ­¥&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ ¹æ®ç´¢å¼•æ‰¾åˆ°rowidï¼ˆç¬¬ä¸€æ¬¡B+æ ‘æŸ¥æ‰¾ï¼‰&lt;/li&gt;
  &lt;li&gt;æ ¹æ®rowidæŸ¥æ‰¾å…¶ä»–åˆ—çš„æ•°æ®ï¼ˆç¬¬äºŒæ¬¡B+æ ‘æŸ¥æ‰¾ï¼‰&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;é€šè¿‡ä¸¤æ¬¡B+æ ‘æŸ¥æ‰¾é¿å…äº†ä¸€æ¬¡å…¨è¡¨æ‰«æã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;1. å¯¹æŸä¸€è¡Œæˆ–æŸå‡ è¡Œæ·»åŠ PRIMARY KEYæˆ–UNIQUEçº¦æŸï¼Œé‚£ä¹ˆæ•°æ®åº“ä¼šè‡ªåŠ¨ä¸ºè¿™äº›åˆ—åˆ›å»ºç´¢å¼•
2. æŒ‡å®šæŸä¸€åˆ—ä¸ºINTEGER PRIMARY KEYï¼Œé‚£ä¹ˆè¿™ä¸€åˆ—å’Œrowidè¢«æŒ‡å®šä¸ºåŒä¸€åˆ—ã€‚å³å¯ä»¥é€šè¿‡rowidæ¥è·å–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åˆ—åæ¥è·å–ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h3 id=&quot;äº”ä¸€ä¸ªä¾‹å­&quot;&gt;äº”ã€ä¸€ä¸ªä¾‹å­&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä¸ªæ•°æ®åº“ä¸­ä¸€ä¸ªè¡¨çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œé€šè¿‡&lt;a href=&quot;https://sqlite.org/sqlanalyze.html&quot;&gt;sqlite3_analyzer&lt;/a&gt;å·¥å…·å¾—åˆ°ã€‚
&lt;img src=&quot;http://oda58fqub.bkt.clouddn.com/14824209528139.jpg&quot; alt=&quot;-w353&quot; /&gt;
å¯ä»¥çœ‹åˆ°è¡¨ä¸­ä¸€å…±æœ‰3651æ¡è®°å½•ï¼ŒBæ ‘çš„æ·±åº¦åªæœ‰2ï¼Œæœ‰33ä¸ªå¶å­èŠ‚ç‚¹ï¼Œ1ä¸ªéå¶å­èŠ‚ç‚¹ã€‚å› æ­¤æœ€å¤šåªéœ€è¦2æ¬¡ç£ç›˜IOå°±å¯ä»¥æ ¹æ®rowidæ‰¾åˆ°ä¸€è¡Œçš„æ•°æ®ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å…­åˆ©ç”¨ç´¢å¼•æé«˜æŸ¥æ‰¾æ•ˆç‡&quot;&gt;å…­ã€åˆ©ç”¨ç´¢å¼•æé«˜æŸ¥æ‰¾æ•ˆç‡&lt;/h2&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬æœ‰è¿™ä¹ˆä¸€ä¸ªè¡¨&lt;br /&gt;
&lt;img src=&quot;http://oda58fqub.bkt.clouddn.com/14824213415023.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;benchmark
æŸ¥è¯¢è¯­å¥å¦‚ä¸‹&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SELECT price FROM fruitsforsale WHERE fruit=â€˜Peachâ€™
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;p&gt;ç”±äºæ²¡æœ‰ç´¢å¼•ï¼Œå› æ­¤ä¸å¾—ä¸åšä¸€æ¬¡å…¨è¡¨æ‰«æã€‚é€šè¿‡é¡ºåºè®¿é—®æŒ‡é’ˆéå†å„ä¸ªè®°å½•(record)ï¼Œæ¯”è¾ƒfruitè¿™ä¸€åˆ—å’Œâ€˜peatchâ€™æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´ï¼Œè¿”å›è¿™ä¸€è¡Œçš„priceåˆ—çš„å€¼ã€‚&lt;br /&gt;
&lt;img src=&quot;http://oda58fqub.bkt.clouddn.com/14824214192659.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;å¯¹â€˜fruitâ€™åˆ—åŠ ç´¢å¼•
å¦‚ä¸‹ï¼Œè¿è¡ŒåŒæ ·çš„è¯­å¥ï¼Œå¯ä»¥æ ¹æ®ç´¢å¼•æ‰¾åˆ°ç›®æ ‡åˆ—å¯¹åº”çš„rowidä¸º4ï¼Œç„¶åæ ¹æ®rowidæ‰¾åˆ°å¯¹åº”è¡Œï¼Œä»è€Œé€‰å‡ºpriceã€‚é€šè¿‡ä¸¤æ¬¡B+æ ‘æŸ¥æ‰¾é¿å…äº†å…¨è¡¨æŸ¥æ‰¾ã€‚è¿™ä¹Ÿæ˜¯æœ€ç®€å•çš„æƒ…å†µ&lt;br /&gt;
&lt;img src=&quot;http://oda58fqub.bkt.clouddn.com/14824216313501.jpg&quot; alt=&quot;&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;å¤šæ¡ç´¢å¼•å‘½ä¸­
å»ºç«‹ç´¢å¼•æ—¶ï¼Œä¸è¦æ±‚ç´¢å¼•æ˜¯uiqueçš„ï¼Œå³ç´¢å¼•è¡¨ä¸­çš„keyå¯ä»¥æ˜¯ä¸€æ ·çš„ã€‚
å¦‚ä¸‹å›¾ï¼Œç´¢å¼•è¡¨ä¸­æœ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;orange&lt;/code&gt;ä¸¤æ¡è®°å½•ï¼Œæ‰¾åˆ°ç¬¬ä¸€æ¡è®°å½•æ—¶ï¼Œæ ¹æ®é¡ºåºè®¿é—®æŒ‡é’ˆå¯ä»¥è½»æ˜“æ‰¾åˆ°ä¸‹ä¸€æ¡ç´¢å¼•ï¼Œé¿å…å¦ä¸€æ¬¡B+æ ‘æŸ¥æ‰¾ã€‚ï¼ˆrowid=1å’Œrowid=23å¯èƒ½ä½äºä¸¤ä¸ªä¸åŒçš„å¶å­èŠ‚ç‚¹ä¸­ï¼‰
å³è¿™ä¸ªæŸ¥æ‰¾ç´¢å¼•çš„è¿‡ç¨‹ï¼Œå¯ä»¥é€šè¿‡ä¸€æ¬¡B+æ ‘æŸ¥å’Œä¸€æ¬¡nextæ“ä½œå®Œæˆï¼Œè€Œnextæ“ä½œæ˜¯å¾ˆå¿«çš„ã€‚&lt;br /&gt;
&lt;img src=&quot;http://oda58fqub.bkt.clouddn.com/14824218349665.jpg&quot; alt=&quot;&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;åˆ©ç”¨ç´¢å¼•åŠ å¿«æœç´¢å’Œæ’åº
åœ¨å¤§å¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶è¿›è¡ŒæŸ¥æ‰¾å’Œæ’åºæ“ä½œï¼Œè¿™æ—¶å¦‚æœå»ºç«‹é€‚å½“çš„ç´¢å¼•ï¼Œå¯ä»¥æé«˜æŸ¥æ‰¾æ•ˆç‡ã€‚
æ¯”å¦‚ä¸‹é¢è¡¨ä¸­å¯¹fruitå’Œstateä¸¤åˆ—åšäº†ç´¢å¼•ï¼Œè¿è¡Œä¸‹é¢çš„sqlè¯­å¥æ—¶ï¼Œå°±ä¸éœ€è¦è¿›è¡Œæ’åºæ“ä½œäº†ï¼Œå› ä¸ºç´¢å¼•è¡¨æ˜¯å¸¦æœ‰é¡ºåºçš„ã€‚&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SELECT price FROM fruitforsale WHERE fruit='Orange' ORDER BY state
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;p&gt;&lt;img src=&quot;http://oda58fqub.bkt.clouddn.com/14824220826728.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;ä¸ƒè§£é‡Šå¼•è¨€ä¸­é—®é¢˜&quot;&gt;ä¸ƒã€è§£é‡Šå¼•è¨€ä¸­é—®é¢˜&lt;/h2&gt;
&lt;p&gt;åœ¨sqliteä¸­æœ‰ä¸€ä¸ªå‘½ä»¤å«åš&lt;code class=&quot;highlighter-rouge&quot;&gt;explain query plan&lt;/code&gt;ï¼Œå¯ä»¥æŸ¥çœ‹sqliteæ˜¯å¦‚ä½•æ‰§è¡ŒæŸ¥æ‰¾æ“ä½œçš„ã€‚ä¸‹é¢çš„æ•°æ®åº“è¯­å¥ä¸æ˜¯å¼•è¨€ä¸­çš„æŸ¥è¯¢è¯­å¥ï¼ŒåŸç†ä¸€æ ·&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;37sçš„æ“ä½œï¼ˆæ²¡æœ‰ç”¨ç´¢å¼•)&lt;br /&gt;
&lt;img src=&quot;http://oda58fqub.bkt.clouddn.com/14824223446285.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;0.2sçš„æ“ä½œï¼ˆç”¨äº†ç´¢å¼•ï¼‰
&lt;img src=&quot;http://oda58fqub.bkt.clouddn.com/14824223522361.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ³¨æ„detailåˆ—ã€‚ä¸ç”¨ç´¢å¼•æ—¶ï¼Œä½¿ç”¨çš„æ˜¯â€œSCANâ€è¿™ä¸ªè¯ï¼Œå³å…¨è¡¨æ‰«æã€‚ä½¿ç”¨ç´¢å¼•æ—¶ï¼Œä½¿ç”¨çš„æ˜¯â€œSEARCHâ€è¿™ä¸ªè¯ã€‚
å¯¹äºä¸€ä¸ª41Gçš„è¡¨æ¥è¯´ï¼Œè¿›è¡Œå…¨è¡¨æ‰«æçš„ä»£ä»·æ˜¾ç„¶æ˜¯å¾ˆå¤§çš„ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å…«å‚è€ƒé“¾æ¥&quot;&gt;å…«ã€å‚è€ƒé“¾æ¥&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/yangecnu/p/Introduce-B-Tree-and-B-Plus-Tree.html&quot;&gt;æµ…è°ˆç®—æ³•å’Œæ•°æ®ç»“æ„: å å¹³è¡¡æŸ¥æ‰¾æ ‘ä¹‹Bæ ‘&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://blog.codinglabs.org/articles/theory-of-mysql-index.html&quot;&gt;MySQLç´¢å¼•èƒŒåçš„æ•°æ®ç»“æ„åŠç®—æ³•åŸç†&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.sqlite.org/queryplanner.html&quot;&gt;Query Planning(è¿™ç¯‡æ˜¯sqliteå…³äºç´¢å¼•çš„æ–‡æ¡£)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.sqlite.org/eqp.html&quot;&gt;EXPLAIN QUERY PLAN&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/lyroge/p/3837886.html&quot;&gt;MySQLå•è¡¨ç™¾ä¸‡æ•°æ®è®°å½•åˆ†é¡µæ€§èƒ½ä¼˜åŒ–&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</content><author><name></name></author><summary type="html">sqliteç´¢å¼•çš„åŸç† ä¸€ã€å¼•è¨€</summary></entry><entry><title type="html">Swiftå’Œobjective cå…³äºå­—ç¬¦ä¸²çš„ä¸€ä¸ªå°ç‰¹æ€§</title><link href="http://localhost:4000/2017/02/24/Swift%E5%92%8CObjective-C%E5%85%B3%E4%BA%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%89%B9%E6%80%A7.html" rel="alternate" type="text/html" title="Swiftå’Œobjective cå…³äºå­—ç¬¦ä¸²çš„ä¸€ä¸ªå°ç‰¹æ€§" /><published>2017-02-24T00:00:00+08:00</published><updated>2017-02-24T00:00:00+08:00</updated><id>http://localhost:4000/2017/02/24/Swift%E5%92%8CObjective%20C%E5%85%B3%E4%BA%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%89%B9%E6%80%A7</id><content type="html" xml:base="http://localhost:4000/2017/02/24/Swift%E5%92%8CObjective-C%E5%85%B3%E4%BA%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%89%B9%E6%80%A7.html">&lt;h2 id=&quot;ä¸€unicodeçš„ä¸€ä¸ªå°ç‰¹æ€§&quot;&gt;ä¸€ã€Unicodeçš„ä¸€ä¸ªå°ç‰¹æ€§&lt;/h2&gt;

&lt;p&gt;é¦–å…ˆï¼ŒUnicodeè§„å®šäº†è®¸å¤šcode pointï¼Œæ¯ä¸€ä¸ªcode pointè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚å¦‚\u0033è¡¨ç¤ºå­—ç¬¦â€œ3â€ï¼Œ\u864eè¡¨ç¤ºå­—ç¬¦â€œä½ â€ã€‚&lt;br /&gt;
åè¿‡æ¥ï¼Œä¸æ˜¯æ¯ä¸€ä¸ªå­—ç¬¦éƒ½å¯¹åº”ä¸€ä¸ªcode pointï¼Œæ¯ä¸€ä¸ªå­—ç¬¦ä¹Ÿä¸æ­¢æœ‰ä¸€ä¸ªcode pointçš„è¡¨ç¤ºæ–¹æ³•ã€‚
æ¯”å¦‚è¯´ï¼Œâ€œğŸ¯â€è¿™ä¸ªemojiè¡¨æƒ…å¯¹åº”çš„code pointæ˜¯â€œ\ud83d\udc2f\u000d\u000aâ€ï¼Œç”±4ä¸ªcode pointç»„æˆï¼Œè€Œä¸æ˜¯ä¸€ä¸ªã€‚&lt;br /&gt;
â€œÃ©â€è¿™ä¸ªå­—ç¬¦å¯¹åº”çš„code pointæœ‰ä¸¤ä¸ªï¼Œâ€œ\u00e9â€ä»¥åŠâ€œ\u0065\u0301â€è¿™ä¸¤ä¸ªcode pointåºåˆ—ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªcode pointï¼‰å‡å¯è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦ã€‚&lt;br /&gt;
é‚£ä¹ˆå¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸åŒå‘¢ï¼ŸUnicodeè§„å®šäº†&lt;a href=&quot;http://www.unicode.org/reports/tr15/&quot;&gt;æ­£è§„åŒ–çš„æ–¹æ³•&lt;/a&gt;ï¼Œè¦æŠŠcode pointçš„åºåˆ—æ­£è§„åŒ–ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ä¸€è‡´ã€‚&lt;br /&gt;
ä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹Swiftå’ŒNSStringå¯¹è¿™ä¸ªè§„åˆ™çš„æ”¯æŒæƒ…å†µã€‚&lt;/p&gt;

&lt;h2 id=&quot;äºŒobjective-cä¸­çš„å­—ç¬¦ä¸²&quot;&gt;äºŒã€Objective Cä¸­çš„å­—ç¬¦ä¸²&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;An NSString object encodes a Unicode-compliant text string, represented as a sequence of UTFâ€“16 code units&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;NSStringæ”¯æŒUnicodeï¼Œä¸€ä¸ªNSStringå…¶å®æ˜¯UTF-16ç¼–ç ä»¥åçš„å¾—åˆ°çš„code unitåºåˆ—ï¼Œè€Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;length&lt;/code&gt;å±æ€§è¿”å›çš„æ˜¯code unitåºåˆ—çš„é•¿åº¦ï¼Œè€Œä¸æ˜¯å­—ç¬¦çš„é•¿åº¦ã€‚&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The number of UTF-16 code units in the receiver.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    NSString *str1 = @&quot;ğŸ¯&quot;;
    NSLog(@&quot;str1: %@,length is %zd&quot;,str1,str1.length);
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¾“å‡ºå¦‚ä¸‹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;str1: ğŸ¯,length is 2 &amp;gt; The comparison uses the canonical representation of strings, which for a particular string is the length of the string plus the UTF-16 code units that make up the string. 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æ¯”è¾ƒå­—ç¬¦ä¸²æ—¶ï¼Œä¹Ÿåªæ˜¯æ¯”è¾ƒcode unitçš„åºåˆ—ï¼Œå› æ­¤æ²¡æœ‰ç”¨åˆ°Unicodeå½’ä¸€åŒ–çš„è¡¨è¾¾ï¼Œå¯èƒ½ä¼šé€ æˆä¸åŒcode pointè¡¨ç¤ºçš„åŒä¸€ä¸ªå­—ç¬¦è¢«è®¤ä¸ºæ˜¯ä¸åŒçš„å­—ç¬¦ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    str1 = @&quot;\u00e9&quot;;
    NSString *str2 = @&quot;e\u0301&quot;;
    NSLog(@&quot;\n str1: %@, length %zd;\n str2: %@, length %zd;\n str1 equal to str2 %@&quot;,str1,str1.length, str2, str2.length, ([str2 isEqualToString:str1] ? @&quot;yes&quot; : @&quot;no&quot;));
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;è¾“å‡ºå¦‚ä¸‹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;str1: Ã©, length 1;
str2: eÌ, length 2;
str1 equal to str2 no
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;ä¸‰swiftä¸­çš„å­—ç¬¦ä¸²&quot;&gt;ä¸‰ã€Swiftä¸­çš„å­—ç¬¦ä¸²&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;A string is a series of characters&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åœ¨Swiftå…³äºStringçš„æ–‡æ¡£ä¸­ï¼Œç¬¬ä¸€å¥è¯å°±æ˜¯å­—ç¬¦ä¸²æ˜¯å­—ç¬¦çš„åºåˆ—ï¼Œè€Œä¸æ˜¯code unitçš„åºåˆ—ã€‚Stringæœ‰ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;characters&lt;/code&gt;çš„å±æ€§ï¼Œæ˜¯å­—ç¬¦çš„é›†åˆã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    let str1 = &quot;cafe\u{301}&quot;
    let str2 = &quot;caf\u{e9}&quot;
    print(&quot;str1 is \(str1),length is &quot;,str1.characters.count,&quot;; str2 is \(str2), stre length is&quot;,str2.characters.count)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;str1 is cafeÌ,length is  4 ; str2 is cafÃ©, stre length is 4
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;åœ¨æ¯”è¾ƒå­—ç¬¦ä¸²æ—¶ï¼Œç»“æœç¬¦åˆå°†code pointæ­£è§„åŒ–ä¹‹åçš„ç»“æœã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;           print(&quot;str1 is equal to str2&quot;,str1 == str2)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ç»“æœå¦‚ä¸‹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;str1 is equal to str2 true
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;</content><author><name></name></author><summary type="html">ä¸€ã€Unicodeçš„ä¸€ä¸ªå°ç‰¹æ€§</summary></entry></feed>